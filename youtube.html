<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vamsi Garikamukku</title>
    <style>
        .error {
            color: red;
            display: none;
        }
        input, textarea {
            display: block;
            margin-bottom: 10px;
            padding: 5px;
        }
    </style>
</head>
<body>
    <h1>Contact Form</h1>
    <form id="contactForm">
        <label for="email">Enter Your Mail:</label>
        <input type="email" id="email" name="email" required>
        <span id="emailErr" class="error">Please enter a valid email address</span>

        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
        <span id="nameErr" class="error">Please enter a valid name</span>

        <button type="submit" id="submit" name="submit">Submit</button>
    </form>

    <script>
        const Url ="https://script.google.com/macros/s/AKfycbw_jq_T-oNQNy6pMizkwaIzGfKNYqmufflZxguQWwJLR-tdFydCdVfdaa11VJdvTqdv/exec"
        
        const form = document.forms["contactForm"];

        form.addEventListener("submit",a=>{
        a.preventDefault()
        fetch(Url,{method:'POST', body: new FormData(form)})
       .then(Response=>alert("Thanks for contacting us, we will contact you soon"))
       .catch(error=>console.error("Error",error.message))


             })
    </script>


    <!-- <script>
        const Url = "https://script.google.com/macros/s/AKfycbx0EtCP7uWJ1FLoh1MB5cr42L1axqHiZ-3pXkQccwI_F-knnNhTBSZBhgG84LJUG8GJ/exec";

        const form = document.getElementById("contactForm");

        form.addEventListener("submit", event => {
            event.preventDefault();

            if (validateForm()) {
                fetch(Url, {
                    method: 'POST',
                    body: new FormData(form),
                })
                .then(response => {
                    if (response.ok) {
                        alert("Thanks for contacting us, we will get back to you soon!");
                        clearForm();
                    } else {
                        throw new Error("Error submitting form");
                    }
                })
                .catch(error => {
                    console.error("Error:", error.message);
                    alert("There was an error submitting the form. Please try again.");
                });
            }
        });

        function validateForm() {
            const isNameValid = validateName();
            const isEmailValid = validateEmail();
            const isNumberValid = validateNumber();
            const isSubjectValid = validateSubject();
            const isMessageValid = validateMessage();

            return isNameValid && isEmailValid && isNumberValid && isSubjectValid && isMessageValid;
        }

        function validateName() {
            const name = document.getElementById("name");
            const nameErr = document.getElementById("nameErr");
            const nameRegex = /^[a-zA-Z ]+$/;

            if (!nameRegex.test(name.value.trim())) {
                nameErr.style.display = "block";
                name.style.border = "2px solid red";
                return false;
            } else {
                nameErr.style.display = "none";
                name.style.border = "2px solid green";
                return true;
            }
        }

        function validateEmail() {
            const email = document.getElementById("email");
            const emailErr = document.getElementById("emailErr");
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            if (!emailRegex.test(email.value.trim())) {
                emailErr.style.display = "block";
                email.style.border = "2px solid red";
                return false;
            } else {
                emailErr.style.display = "none";
                email.style.border = "2px solid green";
                return true;
            }
        }

        function validateNumber() {
            const number = document.getElementById("number");
            const numberErr = document.getElementById("numberErr");
            const numberRegex = /^[6-9]\d{9}$/;

            if (!numberRegex.test(number.value.trim())) {
                numberErr.style.display = "block";
                number.style.border = "2px solid red";
                return false;
            } else {
                numberErr.style.display = "none";
                number.style.border = "2px solid green";
                return true;
            }
        }

        function validateSubject() {
            const subject = document.getElementById("subject");
            const subjectErr = document.getElementById("subjectErr");

            if (subject.value.trim() === "") {
                subjectErr.style.display = "block";
                subject.style.border = "2px solid red";
                return false;
            } else {
                subjectErr.style.display = "none";
                subject.style.border = "2px solid green";
                return true;
            }
        }

        function validateMessage() {
            const message = document.getElementById("message");
            const messageErr = document.getElementById("messageErr");

            if (message.value.trim() === "") {
                messageErr.style.display = "block";
                message.style.border = "2px solid red";
                return false;
            } else {
                messageErr.style.display = "none";
                message.style.border = "2px solid green";
                return true;
            }
        }

        function clearForm() {
            form.reset();
            document.querySelectorAll("input, textarea").forEach(input => {
                input.style.border = "1px solid #ccc";
            });
            document.querySelectorAll(".error").forEach(error => {
                error.style.display = "none";
            });
        }
    </script> -->
</body>
</html>
